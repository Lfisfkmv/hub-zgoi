# 作业一

## 1.数据管理接口

```python
文档上传
POST /api/documents/upload
参数：文档标题，内容，数据库会话
返回：文档id，创建时间

文档查看
GET /api/documents/{document_id}
参数：文档标题，数据库会话
返回：文档id，文档标题

文档删除
DELETE /api/documents/{document_id}
参数：文档标题，数据库会话
返回：删除成功/失败
```



## 2.多模态检索接口

```
POST /api/retrieve
参数：检索类型、检索内容，数据库会话
返回：搜索结果列表
```



## 3.多模态问答接口

```
POST /api/chat
参数：提问，数据库会话
返回：大模型回答
```



# 作业二

```
场景一：纯文本提问：使用单模态模型如bge将用户问题转化为向量，检索相关文本+用户问题输入给大模型，生成答案
场景二：文本+图像提问：使用多模态模型(clip)提取图像特征，计算相似度，检索文本生成答案
```

区别

| 维度       | 纯文本提问         | 文本+图像提问                              |
| ---------- | ------------------ | ------------------------------------------ |
| 输入模态   | 单模态（文本）     | 多模态（文本+图像）                        |
| 编码方式   | 文本嵌入           | 文本+图像嵌入，可能需对齐                  |
| 检索库     | 文本数据库         | 多模态数据库（图文对、图像元数据等）       |
| 检索方法   | 文本相似度检索     | 跨模态检索（如 CLIP-based）                |
| 生成模型   | 纯语言模型         | 多模态大模型                               |
| 应用场景   | 通用问答、知识查询 | 视觉问答（VQA）、图像理解、医疗/工业诊断等 |
| 技术复杂度 | 较低               | 较高（需处理图像、对齐、融合）             |



# 作业三

| 字段名 (Field Name) | 类型 (Data Type) | 默认值 / 约束                  | 描述 (Description)                                         |
| ------------------- | ---------------- | ------------------------------ | ---------------------------------------------------------- |
| `id`                | `INT64`          | 自增主键 (`auto_id=True`)      | Milvus 主键                                                |
| `doc_id`            | `VARCHAR(128)`   | 无                             | 所属文档ID                                                 |
| `doc_title`         | `VARCHAR(128)`   | 无                             | 所属文档标题                                               |
| `modality`          | `VARCHAR(32)`    | 无                             | 内容模态类型，如 `"text"`、`"image"`、`"table"`、`"mixed"` |
| `chunk_index`       | `INT32`          | `0`                            | 在所属文档中的分块序号（用于还原顺序）                     |
| `milvus_pri_key`    | `INT32`          | 无                             | 外键                                                       |
| `created_at`        | `INT64`          | 当前 Unix 时间戳（插入时赋值） | 记录创建时间，单位秒或毫秒                                 |

